{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/projects/Bejamas/src/components/ProductCard.js\",\n    _s = $RefreshSig$();\n\nimport \"../assets/scss/productCard.scss\";\nimport { Context } from \"../Context\";\nimport { useContext, useEffect, useRef, useState } from \"react\";\nimport { cartFunction } from \"../assets/functions/index\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProductCard = _ref => {\n  _s();\n\n  let {\n    index,\n    val\n  } = _ref;\n  const [state,, cartItems, setCartItems, page] = useContext(Context),\n        button = useRef(null),\n        [width, setWidth] = useState(window.innerWidth),\n        [clickCount, setClickCount] = useState(0);\n  console.log(cartFunction);\n  useEffect(() => {\n    if (width < 800) {\n      button.current.style.marginBottom = \"0\";\n      button.current.classList.add(\"hovered\");\n    } else {\n      button.current.classList.remove(\"hovered\");\n      button.current.style.marginBottom = \"-50px\";\n    }\n\n    window.addEventListener(\"resize\", () => setWidth(window.innerWidth));\n  }, [width]);\n\n  const mouseover = () => {\n    button.current.style.marginBottom = \"0\";\n    button.current.classList.add(\"hovered\");\n  };\n\n  const mouseleave = () => {\n    if (width > 800) {\n      button.current.classList.remove(\"hovered\");\n      button.current.style.marginBottom = \"-50px\";\n    }\n  };\n\n  const addItem = () => setClickCount(() => clickCount + 1);\n\n  useEffect(() => {\n    var _button$current;\n\n    cartFunction(state, cartItems, clickCount, setClickCount);\n    let items = [...state];\n    const itemName = (_button$current = button.current) === null || _button$current === void 0 ? void 0 : _button$current.id,\n          cartNames = [...cartItems].map(val => val.name);\n    setClickCount(() => clickCount + 1);\n\n    if (clickCount % 2 === 1) {\n      items = items.filter(item => item.name === itemName);\n\n      if (!cartNames.includes(itemName)) {\n        setCartItems([...cartItems, ...items]);\n      }\n    } else {\n      items = [...cartItems].filter(item => !(item.name === itemName));\n      setCartItems([...items]);\n    }\n  }, [clickCount]);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"product\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product__img\",\n      onMouseOver: mouseover,\n      onMouseLeave: mouseleave,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: val.image.src,\n        alt: \"product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), val.bestseller ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"caption\",\n        children: \"Best Seller\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 27\n      }, this) : \"\", /*#__PURE__*/_jsxDEV(\"button\", {\n        ref: button,\n        className: \"add-to-cart\",\n        onClick: addItem,\n        id: val.name,\n        children: clickCount % 2 === 0 ? \"ADD TO CART\" : \"ADDED TO CART\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"product__details\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"others\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"details\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: val.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: val.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"price\",\n            children: [\"$ \", val.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProductCard, \"ZqSVgi0JD9JuhctjVwOQysi6EyE=\");\n\n_c = ProductCard;\nexport default ProductCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductCard\");","map":{"version":3,"sources":["/Users/mac/Documents/projects/Bejamas/src/components/ProductCard.js"],"names":["Context","useContext","useEffect","useRef","useState","cartFunction","ProductCard","index","val","state","cartItems","setCartItems","page","button","width","setWidth","window","innerWidth","clickCount","setClickCount","console","log","current","style","marginBottom","classList","add","remove","addEventListener","mouseover","mouseleave","addItem","items","itemName","id","cartNames","map","name","filter","item","includes","image","src","bestseller","category","price"],"mappings":"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","sourcesContent":["import \"../assets/scss/productCard.scss\";\nimport { Context } from \"../Context\";\nimport { useContext, useEffect, useRef, useState } from \"react\";\nimport { cartFunction } from \"../assets/functions/index\";\n\nconst ProductCard = ({ index, val }) => {\n  const [state, , cartItems, setCartItems, page] = useContext(Context),\n    button = useRef(null),\n    [width, setWidth] = useState(window.innerWidth),\n    [clickCount, setClickCount] = useState(0);\n\n  console.log(cartFunction);\n\n  useEffect(() => {\n    if (width < 800) {\n      button.current.style.marginBottom = \"0\";\n      button.current.classList.add(\"hovered\");\n    } else {\n      button.current.classList.remove(\"hovered\");\n      button.current.style.marginBottom = \"-50px\";\n    }\n    window.addEventListener(\"resize\", () => setWidth(window.innerWidth));\n  }, [width]);\n\n  const mouseover = () => {\n    button.current.style.marginBottom = \"0\";\n    button.current.classList.add(\"hovered\");\n  };\n\n  const mouseleave = () => {\n    if (width > 800) {\n      button.current.classList.remove(\"hovered\");\n      button.current.style.marginBottom = \"-50px\";\n    }\n  };\n\n  const addItem = () => setClickCount(() => clickCount + 1);\n\n  useEffect(() => {\n    cartFunction(state, cartItems, clickCount, setClickCount);\n    let items = [...state];\n    const itemName = button.current?.id,\n      cartNames = [...cartItems].map((val) => val.name);\n    setClickCount(() => clickCount + 1);\n\n    if (clickCount % 2 === 1) {\n      items = items.filter((item) => item.name === itemName);\n      if (!cartNames.includes(itemName)) {\n        setCartItems([...cartItems, ...items]);\n      }\n    } else {\n      items = [...cartItems].filter((item) => !(item.name === itemName));\n      setCartItems([...items]);\n    }\n  }, [clickCount]);\n\n  return (\n    <section className=\"product\">\n      <div\n        className=\"product__img\"\n        onMouseOver={mouseover}\n        onMouseLeave={mouseleave}\n      >\n        <img src={val.image.src} alt=\"product\" />\n        {val.bestseller ? <div className=\"caption\">Best Seller</div> : \"\"}\n        <button\n          ref={button}\n          className=\"add-to-cart\"\n          onClick={addItem}\n          id={val.name}\n        >\n          {clickCount % 2 === 0 ? \"ADD TO CART\" : \"ADDED TO CART\"}\n        </button>\n      </div>\n\n      <section className=\"product__details\">\n        <div className=\"others\">\n          <div className=\"details\">\n            <p>{val.category}</p>\n            <h3>{val.name}</h3>\n            <p className=\"price\">$ {val.price}</p>\n          </div>\n        </div>\n      </section>\n    </section>\n  );\n};\n\nexport default ProductCard;\n"]},"metadata":{},"sourceType":"module"}